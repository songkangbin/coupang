<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì¿ íŒ¡ ë°”ë¡œê°€ê¸° ì„¤ì¹˜</title>
  <link rel="icon" href="icons/icon-192.png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0078ff">
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 40px;
      background-color: #ffffff;
    }
    .button {
      background: #0078ff;
      color: #fff;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      cursor: pointer;
      margin-top: 20px;
    }
    .guide {
      margin-top: 30px;
      color: #555;
      font-size: 15px;
    }
    .notice {
      background: #ffefc3;
      border: 1px solid #ffd700;
      padding: 10px;
      border-radius: 8px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>ğŸ“² ì¿ íŒ¡ ë°”ë¡œê°€ê¸° ì„¤ì¹˜í•˜ê¸°</h1>
  <img src="icons/icon-192.png" alt="Coupang Icon" width="100">
  <p>í™ˆ í™”ë©´ì— ì„¤ì¹˜í•˜ê³  ì¿ íŒ¡ ë°”ë¡œê°€ê¸°ë¥¼ í¸í•˜ê²Œ ì´ìš©í•˜ì„¸ìš”!</p>

  <button class="button" id="goBtn">ì¿ íŒ¡ìœ¼ë¡œ ì´ë™</button>

  <div class="notice" id="inAppNotice" style="display: none;">
    âš ï¸ ì¹´ì¹´ì˜¤í†¡ ë“±ì—ì„œ ì—¬ì‹  ê²½ìš°:<br>
    ìš°ì¸¡ ìƒë‹¨ <strong>Â·Â·Â·</strong> ë©”ë‰´ â†’ <strong>ë¸Œë¼ìš°ì €ë¡œ ì—´ê¸°</strong>ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.<br>
    ê·¸ëŸ° ë‹¤ìŒ í™ˆ í™”ë©´ì— ì¶”ê°€í•´ ì£¼ì„¸ìš”!
  </div>

  <p class="guide" id="installGuide" hidden>
    ğŸ“± <span id="iosGuide">Safari ê³µìœ  ë²„íŠ¼ â†’ í™ˆ í™”ë©´ì— ì¶”ê°€</span>
    <span id="andGuide" hidden>Chrome ë©”ë‰´ â†’ í™ˆ í™”ë©´ì— ì¶”ê°€</span>
  </p>

  <script>
    const COUPANG_URL = "https://link.coupang.com/a/cyOBSI";
    const goBtn = document.getElementById("goBtn");
    goBtn.onclick = () => location.href = COUPANG_URL;

    // âœ… ì„¤ì¹˜ëœ ìƒíƒœë©´ ë°”ë¡œ ì´ë™ (standalone ëª¨ë“œ)
    if (window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone) {
      window.location.href = COUPANG_URL;
    }

    // In-app browser ê°ì§€ (ì¹´ì¹´ì˜¤í†¡, ì¸ìŠ¤íƒ€ê·¸ë¨ ë“±)
    const ua = navigator.userAgent.toLowerCase();
    if (ua.includes("kakaotalk") || ua.includes("instagram") || ua.includes("fbav")) {
      document.getElementById("inAppNotice").style.display = "block";
    }

    // PWA ì„¤ì¹˜ ìœ ë„
    let deferredPrompt;
    const guide = document.getElementById('installGuide');
    const iosGuide = document.getElementById('iosGuide');
    const andGuide = document.getElementById('andGuide');

    window.addEventListener('beforeinstallprompt', e => {
      e.preventDefault();
      deferredPrompt = e;
      guide.hidden = false;
      andGuide.hidden = false;
    });

    const isIos = /iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());
    if (isIos) {
      iosGuide.hidden = false;
      andGuide.hidden = true;
      guide.hidden = false;
    }
  </script>
</body>
</html>
